(this["webpackJsonpOnly Exams"]=this["webpackJsonpOnly Exams"]||[]).push([[0],{127:function(e,t,a){},128:function(e,t,a){},133:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(39),c=a.n(n),s=(a(127),a(21)),o=a(4),i=a(15),u=a(172),l=(a(128),a(103)),j=a(0);var d=function(e){var t=e.variant,a=e.heading,n=e.message,c=Object(r.useState)(!0),s=Object(o.a)(c,2),i=s[0],u=s[1],d=Object(r.useState)(null),b=Object(o.a)(d,2),h=b[0],O=b[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){return u(!1)}),5e3);return O(e),function(){clearTimeout(h)}}),[]),Object(j.jsx)(l.a,{variant:t,onClose:function(){return u(!1)},dismissible:!0,show:i,children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(l.a.Heading,{children:a}),Object(j.jsx)("p",{className:"alert-body",children:n})]})})},b=a(121),h=a(75),O=a(115),x=a(14),m=(a(133),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.c,{to:"/courses/",className:"nav-link",children:"Your Courses"}),Object(j.jsx)(x.c,{to:"/courses/create/",className:"nav-link",children:"Add Course"}),Object(j.jsx)(x.c,{to:"/change-password/",className:"nav-link",children:"Change Password"}),Object(j.jsx)(x.c,{to:"/profile/",className:"nav-link",children:"Profile"}),Object(j.jsx)(x.c,{to:"/sign-out/",className:"nav-link",children:"Sign Out"})]})),p=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.c,{to:"/courses/assigned/",className:"nav-link",children:"Your Courses"}),Object(j.jsx)(x.c,{to:"/change-password/",className:"nav-link",children:"Change Password"}),Object(j.jsx)(x.c,{to:"/profile/",className:"nav-link",children:"Profile"}),Object(j.jsx)(x.c,{to:"/sign-out/",className:"nav-link",children:"Sign Out"})]}),v=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.c,{to:"/courses/",className:"nav-link",children:"Find A Course"}),Object(j.jsx)(x.c,{to:"/courses/enrolled/",className:"nav-link",children:"Your Courses"}),Object(j.jsx)(x.c,{to:"/change-password/",className:"nav-link",children:"Change Password"}),Object(j.jsx)(x.c,{to:"/profile/",className:"nav-link",children:"Profile"}),Object(j.jsx)(x.c,{to:"/sign-out/",className:"nav-link",children:"Sign Out"})]}),f=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.c,{to:"/",className:"nav-link",children:"Home"}),Object(j.jsx)(x.c,{to:"/sign-up/",className:"nav-link",children:"Sign Up"}),Object(j.jsx)(x.c,{to:"/sign-in/",className:"nav-link",children:"Sign In"})]}),g=function(e){var t=e.user,a=e.userType;return Object(j.jsx)(h.a,{bg:"primary",variant:"dark",expand:"md",children:Object(j.jsxs)(O.a,{children:[Object(j.jsx)(h.a.Brand,{children:Object(j.jsx)(x.b,{to:"/courses/",style:{color:"#FFF",textDecoration:"none"},children:Object(j.jsx)("img",{className:"navLogo",src:"https://i.imgur.com/E9e7s2r.png"})})}),Object(j.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(h.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(b.a,{className:"ms-auto",children:[t&&Object(j.jsxs)("span",{className:"navbar-text me-2",children:["Welcome, ",t.email,"(",a,")"]}),"Student"===a?v:"Tutor"===a?p:"Author"===a?m:f]})})]})})},k=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Welcome to Only Exams!"}),Object(j.jsx)("br",{}),Object(j.jsx)("h5",{children:"If you are new, sign up now to have access to all of our courses."})]})]})},w=a(10),y=a.n(w),C=a(16),S="https://capstone-proj-api.herokuapp.com",N="http://localhost:8000",T="localhost"===window.location.hostname?N:S,A=a(19),F=a.n(A),I=function(e,t,a,r){return F.a.post(T+"/sign-up/",{credentials:{email:e,password:t,password_confirmation:a},userType:r})},E=function(e,t){return F.a.post(T+"/sign-in/",{credentials:{email:e,password:t}})},P=function(e){return F.a.delete(T+"/sign-out/",{headers:{Authorization:"Token ".concat(e.token)}})},D=function(e,t,a){return F.a.patch(T+"/change-password/",{passwords:{old:e,new:t}},{headers:{Authorization:"Token ".concat(a.token)}})},M=a(8),z=a(17),B=function(e){var t=e.msgAlert,a=e.setUser,n=Object(r.useState)(""),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(""),x=Object(o.a)(O,2),m=x[0],p=x[1],v=Object(r.useState)(""),f=Object(o.a)(v,2),g=f[0],k=f[1],w=Object(r.useState)(!1),S=Object(o.a)(w,2),N=S[0],T=S[1],A=function(){var e=Object(C.a)(y.a.mark((function e(r){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,I(s,b,m,g);case 4:return e.next=6,E(s,b);case 6:n=e.sent,a(n.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),T(!0),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),u(""),h(""),p(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return N?Object(j.jsx)(i.a,{to:"/profile/"}):Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("h3",{children:"Sign Up"}),Object(j.jsxs)(M.a,{onSubmit:A,children:[Object(j.jsxs)(M.a.Group,{controlId:"email",children:[Object(j.jsx)(M.a.Label,{children:"Email address"}),Object(j.jsx)(M.a.Control,{required:!0,type:"email",name:"email",value:s,placeholder:"Enter email",onChange:function(e){return u(e.target.value)}})]}),Object(j.jsxs)(M.a.Group,{controlId:"password",children:[Object(j.jsx)(M.a.Label,{children:"Password"}),Object(j.jsx)(M.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(j.jsxs)(M.a.Group,{controlId:"passwordConfirmation",children:[Object(j.jsx)(M.a.Label,{children:"Password Confirmation"}),Object(j.jsx)(M.a.Control,{required:!0,name:"passwordConfirmation",value:m,type:"password",placeholder:"Confirm Password",onChange:function(e){return p(e.target.value)}})]}),Object(j.jsx)("br",{}),Object(j.jsxs)(M.a.Group,{controlId:"userType",children:[Object(j.jsx)(M.a.Label,{children:"User Type"}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)(M.a.Check,{inline:!0,label:"Student",name:"userType",value:"is_student",type:"radio",id:"inline-radio}-1",onChange:function(e){return k(e.target.value)}}),Object(j.jsx)(M.a.Check,{inline:!0,label:"Tutor",name:"userType",value:"is_tutor",type:"radio",id:"inline-radio}-2",onChange:function(e){return k(e.target.value)}}),Object(j.jsx)(M.a.Check,{inline:!0,label:"Author",name:"userType",value:"is_author",type:"radio",id:"inline-radio}-3",onChange:function(e){return k(e.target.value)}})]},"inline-radio}")]}),Object(j.jsx)(z.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},G=function(e){var t=e.msgAlert,a=e.setUser,n=Object(r.useState)(""),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(!1),x=Object(o.a)(O,2),m=x[0],p=x[1],v=Object(r.useState)(!1),f=Object(o.a)(v,2),g=f[0],k=f[1],w=function(){var e=Object(C.a)(y.a.mark((function e(r){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,E(s,b);case 4:n=e.sent,a(n.data.user),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),n.data.user.isTutor?k(!0):p(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),u(""),h(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return m?Object(j.jsx)(i.a,{to:"/courses/"}):g?Object(j.jsx)(i.a,{to:"/courses/assigned/"}):Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("h3",{children:"Sign In"}),Object(j.jsxs)(M.a,{onSubmit:w,children:[Object(j.jsxs)(M.a.Group,{controlId:"email",children:[Object(j.jsx)(M.a.Label,{children:"Email address"}),Object(j.jsx)(M.a.Control,{required:!0,type:"email",name:"email",value:s,placeholder:"Enter email",onChange:function(e){return u(e.target.value)}})]}),Object(j.jsxs)(M.a.Group,{controlId:"password",children:[Object(j.jsx)(M.a.Label,{children:"Password"}),Object(j.jsx)(M.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)(z.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},L=function(e){var t=e.msgAlert,a=e.clearUser,n=e.clearUserType,c=e.user,s=Object(r.useState)(!1),u=Object(o.a)(s,2),l=u[0],d=u[1];return Object(r.useEffect)((function(){(function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(c);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),a(),n(),d(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!c||l?Object(j.jsx)(i.a,{to:"/"}):""},U=function(e){var t=e.msgAlert,a=e.user,n=Object(r.useState)(""),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(!1),x=Object(o.a)(O,2),m=x[0],p=x[1],v=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,D(s,b,a);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),p(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),u(""),h(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!a||m?Object(j.jsx)(i.a,{to:"/"}):Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("h3",{children:"Change Password"}),Object(j.jsxs)(M.a,{onSubmit:v,children:[Object(j.jsxs)(M.a.Group,{controlId:"oldPassword",children:[Object(j.jsx)(M.a.Label,{children:"Old password"}),Object(j.jsx)(M.a.Control,{required:!0,name:"oldPassword",value:s,type:"password",placeholder:"Old Password",onChange:function(e){return u(e.target.value)}})]}),Object(j.jsxs)(M.a.Group,{controlId:"newPassword",children:[Object(j.jsx)(M.a.Label,{children:"New Password"}),Object(j.jsx)(M.a.Control,{required:!0,name:"newPassword",value:b,type:"password",placeholder:"New Password",onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)(z.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},q=function(e,t){return F.a.post("".concat(T,"/courses/create/"),e,t)},H=function(e){return F.a.get(T+"/courses/",{headers:{Authorization:"Token ".concat(e.token)}})},_=function(e){return F.a.get(T+"/courses/available/",{headers:{Authorization:"Token ".concat(e.token)}})},Y=function(e){return F.a.get(T+"/courses/assigned/",{headers:{Authorization:"Token ".concat(e.token)}})},W=function(e,t){return F.a.get(T+"/courses/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},J=function(e,t){return F.a.get(T+"/courses/".concat(t,"/view/"),{headers:{Authorization:"Token ".concat(e.token)}})},R=function(e,t,a,r){return F.a.patch(T+"/courses/".concat(t,"/"),{course:{name:a,description:r}},{headers:{Authorization:"Token ".concat(e.token)}})},K=function(e,t){return F.a.delete(T+"/courses/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},Q=function(e,t){return F.a.post(T+"/courses/".concat(t,"/enrol/"),{enrol:{student:e.id,course:t}},{headers:{Authorization:"Token ".concat(e.token)}})},V=function(e){return F.a.get(T+"/courses/enrolled/",{headers:{Authorization:"Token ".concat(e.token)}})},X=a(116),Z=a.n(X),$=function(e){var t=e.msgAlert,a=e.user,n=Object(r.useState)(!1),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(""),x=Object(o.a)(O,2),m=x[0],p=x[1],v=Object(r.useState)(null),f=Object(o.a)(v,2),g=f[0],k=f[1],w=function(){var e=Object(C.a)(y.a.mark((function e(r){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),(n=new Z.a).append("name",b),n.append("description",m),g&&n.append("image",g[0],g[0].name),e.prev=5,c={headers:{Authorization:"Token ".concat(a.token),"Content-Type":"multipart/form-data"}},e.next=9,q(n,c);case 9:t({heading:"Course Creation Successful!",message:"Course ".concat(b," Created Successfully!"),variant:"success"}),u(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t({heading:"Create Course Failed with error: "+e.t0.message,message:"Failed to create a new course",variant:"danger"});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return a?s?Object(j.jsx)(i.a,{to:"/courses/"}):Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("h3",{children:"Create Course"}),Object(j.jsxs)(M.a,{onSubmit:w,children:[Object(j.jsxs)(M.a.Group,{controlId:"courseName",children:[Object(j.jsx)(M.a.Label,{children:"Course Name"}),Object(j.jsx)(M.a.Control,{required:!0,name:"courseName",value:b,type:"text",placeholder:"Course Name",onChange:function(e){return h(e.target.value)}})]}),Object(j.jsxs)(M.a.Group,{controlId:"courseDescription",children:[Object(j.jsx)(M.a.Label,{children:"Course Description"}),Object(j.jsx)(M.a.Control,{required:!0,name:"courseDescription",value:m,type:"text",as:"textarea",rows:"6",placeholder:"Course Description",onChange:function(e){return p(e.target.value)}})]}),Object(j.jsxs)(M.a.Group,{controlId:"image",children:[Object(j.jsx)(M.a.Label,{children:"Course Image"}),Object(j.jsx)(M.a.Control,{name:"image",type:"file",accept:"image/png, image/jpeg",onChange:function(e){return k(e.target.files)}})]}),Object(j.jsx)(z.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})}):Object(j.jsx)(i.a,{to:"/"})},ee=a(171),te=a(26),ae=a(38),re=a(12),ne=a(93),ce=a(94),se=function(e){var t=e.msgAlert,a=e.user,n=e.userType,c=Object(r.useState)([]),s=Object(o.a)(c,2),u=s[0],l=s[1],d=Object(r.useState)(!0),b=Object(o.a)(d,2),h=b[0],O=b[1];if(Object(r.useEffect)(Object(C.a)(y.a.mark((function e(){var r,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Student"!==n){e.next=9;break}return e.next=4,_(a);case 4:r=e.sent,l(r.data.courses),O(!1),e.next=22;break;case 9:if("Tutor"!==n){e.next=17;break}return e.next=12,Y(a);case 12:c=e.sent,l(c.data.courses),O(!1),e.next=22;break;case 17:return e.next=19,H(a);case 19:s=e.sent,l(s.data.courses),O(!1);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),t({heading:"No Courses",message:"There are no courses available right now.",variant:"danger"});case 27:case"end":return e.stop()}}),e,null,[[0,24]])}))),[]),!a)return Object(j.jsx)(i.a,{to:"/"});var m=u.map((function(e){return"Student"===n?Object(j.jsxs)(re.a,{border:"primary",className:"shadow",children:[Object(j.jsx)(re.a.Img,{variant:"top",src:T+e.image}),Object(j.jsxs)(re.a.Body,{children:[Object(j.jsx)(re.a.Title,{children:Object(j.jsx)("h3",{children:e.name})}),Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:e.description}),Object(j.jsx)(z.a,{variant:"success",value:e.id,onClick:function(e){return p(e)},children:"Enrol"})]})]},e.id):"Tutor"===n?Object(j.jsxs)(re.a,{border:"primary",className:"shadow",children:[Object(j.jsx)(x.b,{to:"/courses/".concat(e.course.id,"/"),children:Object(j.jsx)(re.a.Img,{variant:"top",src:T+e.course.image})}),Object(j.jsxs)(re.a.Body,{children:[Object(j.jsx)(re.a.Title,{children:e.course.name}),Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:e.course.description})]})]},e.course.id):Object(j.jsxs)(re.a,{border:"primary",className:"shadow",children:[Object(j.jsx)(x.b,{to:"/courses/".concat(e.id,"/"),children:Object(j.jsx)(re.a.Img,{variant:"top",src:T+e.image})}),Object(j.jsxs)(re.a.Body,{children:[Object(j.jsx)(re.a.Title,{children:e.name}),Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:e.description})]})]},e.id)})),p=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(a,r.target.value);case 3:t({heading:"Successfully enrolled!",message:"You have successfully enrolled in this course!",variant:"success"}),v(r.target.value),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({heading:"Error enrolling",message:"There was an error enrolling in this course.",variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return Object(j.jsx)(i.a,{to:"/courses/".concat(e)})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Courses:"}),Object(j.jsx)(ne.a,{children:Object(j.jsx)(ce.a,{md:3,className:"g-4",children:h?Object(j.jsx)(ae.a,{animation:"border",variant:"primary"}):m})})]})},oe=function(e){var t=e.msgAlert,a=e.user,n=(e.userType,Object(r.useState)([])),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(!0),d=Object(o.a)(l,2),b=d[0],h=d[1];if(Object(r.useEffect)(Object(C.a)(y.a.mark((function e(){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(a);case 3:r=e.sent,n=r.data.enrolled_courses.map((function(e){return{id:e.course.id,name:e.course.name,description:e.course.description}})),u(n),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({heading:"No Courses",message:"There are no courses. Please enrol in a Course.",variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),!a)return Object(j.jsx)(i.a,{to:"/"});var O=s.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(re.a,{border:"primary",className:"shadow",children:[Object(j.jsx)(x.b,{to:"/courses/".concat(e.id,"/"),children:Object(j.jsx)(re.a.Img,{variant:"top",src:T+e.image})}),Object(j.jsxs)(re.a.Body,{children:[Object(j.jsx)(re.a.Title,{children:Object(j.jsx)("h3",{children:e.name})}),Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:e.description})]})]},e.id)})}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Your Enrolled Courses:"}),Object(j.jsx)(ne.a,{children:Object(j.jsx)(ce.a,{md:3,className:"g-4",children:b?Object(j.jsx)(ae.a,{animation:"border",variant:"primary"}):O})})]})},ie=a(25),ue=a(43),le=a(29),je=function(e,t,a,r){return F.a.post(T+"/courses/modules/create/",{module:{name:t,content:a,course:r}},{headers:{Authorization:"Token ".concat(e.token)}})},de=function(e,t){return F.a.get(T+"/courses/".concat(t,"/modules/"),{headers:{Authorization:"Token ".concat(e.token)}})},be=function(e,t,a){return F.a.get(T+"/courses/modules/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},he=function(e,t,a,r,n){return F.a.patch(T+"/courses/modules/".concat(t,"/"),{module:{course:n,name:a,content:r}},{headers:{Authorization:"Token ".concat(e.token)}})},Oe=function(e,t){return F.a.delete(T+"/courses/modules/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},xe=function(e,t){return F.a.post(T+"/courses/modules/".concat(t,"/complete/"),{complete:{module_complete:t,student:e.id}},{headers:{Authorization:"Token ".concat(e.token)}})},me=function(e,t){return F.a.get(T+"/courses/".concat(t,"/modules/completed/"),{headers:{Authorization:"Token ".concat(e.token)}})},pe=function(e,t,a){return F.a.patch(T+"/profile/",{userData:{first_name:e,last_name:t}},{headers:{Authorization:"Token ".concat(a.token)}})},ve=function(e){return F.a.get(T+"/profile/",{headers:{Authorization:"Token ".concat(e.token)}})},fe=function(e){return F.a.get(T+"/tutors/",{headers:{Authorization:"Token ".concat(e.token)}})},ge=function(e,t,a){return F.a.post(T+"/tutors/assign/",{assign:{tutor:t,course:a}},{headers:{Authorization:"Token ".concat(e.token)}})},ke=function(e,t){return F.a.get(T+"/courses/".concat(t,"/tutors/"),{headers:{Authorization:"Token ".concat(e.token)}})},we=function(e,t){return F.a.get(T+"/courses/".concat(t,"/enrolled/"),{headers:{Authorization:"Token ".concat(e.token)}})},ye=function(e){var t=e.msgAlert,a=e.user,n=(e.userType,Object(r.useState)([])),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(""),m=Object(o.a)(O,2),p=m[0],v=m[1],f=Object(r.useState)(null),g=Object(o.a)(f,2),k=g[0],w=g[1],S=Object(r.useState)(!1),N=Object(o.a)(S,2),A=N[0],F=N[1],I=Object(r.useState)([]),E=Object(o.a)(I,2),P=E[0],D=E[1],B=Object(r.useState)([]),G=Object(o.a)(B,2),L=G[0],U=G[1],q=Object(r.useState)([]),H=Object(o.a)(q,2),_=H[0],Y=H[1],J=Object(r.useState)(!1),Q=Object(o.a)(J,2),V=Q[0],X=Q[1],Z=Object(r.useState)(!1),$=Object(o.a)(Z,2),ne=$[0],ce=$[1],se=Object(r.useState)(!1),oe=Object(o.a)(se,2),je=oe[0],be=oe[1],he=Object(r.useState)(!1),Oe=Object(o.a)(he,2),xe=Oe[0],me=Oe[1],pe=Object(r.useState)(!1),ve=Object(o.a)(pe,2),we=ve[0],ye=ve[1],Ce=Object(r.useState)(!1),Se=Object(o.a)(Ce,2),Ne=Se[0],Te=Se[1],Ae={id:Object(i.h)().id};if(!a)return Object(j.jsx)(i.a,{to:"/"});Object(r.useEffect)(Object(C.a)(y.a.mark((function e(){var t,r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(a,Ae.id);case 3:return t=e.sent,u(t.data.course),h(t.data.course.name),v(t.data.course.description),t.data.course.image&&w(t.data.course.image),e.prev=8,e.next=11,de(a,Ae.id);case 11:return r=e.sent,D(r.data.modules),be(!1),e.prev=14,e.next=17,ke(a,Ae.id);case 17:n=e.sent,U(n.data.assigned_tutors),Te(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),console.error(e.t0);case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(8),console.error(e.t1);case 30:e.next=35;break;case 32:e.prev=32,e.t2=e.catch(0),console.error(e.t2);case 35:case"end":return e.stop()}}),e,null,[[0,32],[8,27],[14,22]])}))),[Ne]);var Fe=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,R(a,Ae.id,b,p);case 4:F(!1),Te(!0),t({heading:"Course Edit Successful!",message:"Course ".concat(b," Edited Successfully!"),variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({heading:"Edit Course Failed with error: "+e.t0.message,message:"Failed to edit the course",variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,K(a,Ae.id);case 4:F(!1),me(!0),t({heading:"Course Deletion Successful!",message:"Course ".concat(b," Deleted Successfully!"),variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({heading:"Delete Course Failed with error: "+e.t0.message,message:"Failed to delete the course",variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(C.a)(y.a.mark((function e(t){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fe(a);case 4:r=e.sent,n=r.data.tutors.filter(Pe),Y(n),X(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(e){return L.length>=1?e.email!==L[0].tutor.email:e.email};if(xe)return Object(j.jsx)(i.a,{to:"/courses/"});if(we)return Object(j.jsx)(i.a,{to:"/courses/".concat(Ae,"/modules/create/"),state:{value:Ae.id}});var De=P.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(le.a.Item,{children:Object(j.jsx)(x.b,{to:"/courses/modules/".concat(e.id,"/"),state:{value:Ae},children:e.name})})},e.id)})),Me=Object(j.jsx)("ol",{className:"container",children:De}),ze=L.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(le.a.Item,{children:e.tutor.email})},e.id)})),Be=Object(j.jsx)("ol",{className:"container",children:ze}),Ge=_.map((function(e,t){return Object(j.jsx)("option",{value:t,children:e.email},e.id)})),Le=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),void 0===r.target.value){e.next=14;break}return e.prev=2,e.next=5,ge(a,ne.id,Ae.id);case 5:X(!1),Te(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:e.next=15;break;case 14:t({heading:"No Tutor Selected",message:"Please select a Tutor from the dropdown menu to assign",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)(z.a,{onClick:function(){return me(!0)},children:"Back"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)(re.a,{border:"primary",className:"col-5 shadow",children:[Object(j.jsx)(re.a.Img,{variant:"top",src:T+k}),Object(j.jsxs)(re.a.Body,{children:[Object(j.jsx)(re.a.Title,{children:Object(j.jsx)("h3",{children:s.name})}),Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:s.description}),Object(j.jsx)(z.a,{onClick:function(){return F(!0)},children:"Edit"}),Object(j.jsx)(z.a,{variant:"danger",onClick:Ie,children:"Delete"})]}),Object(j.jsxs)(re.a.Footer,{children:[Object(j.jsx)(re.a.Header,{children:Object(j.jsx)("h4",{children:"Tutors:"})}),Object(j.jsxs)(le.a,{variant:"flush",children:[Be,Object(j.jsx)(le.a.Item,{children:Object(j.jsx)(z.a,{onClick:Ee,children:"Assign Tutors"})})]})]})]}),Object(j.jsxs)(re.a,{border:"primary col-6 container shadow",children:[Object(j.jsx)(re.a.Header,{children:Object(j.jsx)("h3",{children:"Modules:"})}),Object(j.jsxs)(le.a,{variant:"flush",children:[je?Object(j.jsx)(ae.a,{animation:"border",variant:"primary"}):Me,Object(j.jsx)(le.a.Item,{children:Object(j.jsx)(z.a,{onClick:function(){return ye(!0)},children:"Add Module"})})]})]})]})})]}),Object(j.jsx)("div",{children:Object(j.jsxs)(ie.a,{show:A,onHide:function(){return F(!1)},children:[Object(j.jsx)(ie.a.Header,{closeButton:!0,children:Object(j.jsx)(ie.a.Title,{children:"Edit Course Information"})}),Object(j.jsx)(ie.a.Body,{children:Object(j.jsxs)(M.a,{children:[Object(j.jsx)(M.a.Group,{controlId:"courseName",children:Object(j.jsx)(ue.a,{label:"Course Name",children:Object(j.jsx)(M.a.Control,{required:!0,name:"courseName",value:b,type:"text",placeholder:"Course Name",onChange:function(e){return h(e.target.value)}})})}),Object(j.jsx)(M.a.Group,{controlId:"courseDescription",children:Object(j.jsx)(ue.a,{label:"Course Description",children:Object(j.jsx)(M.a.Control,{required:!0,name:"courseDescription",value:p,type:"text",as:"textarea",rows:"6",placeholder:"Course Description",onChange:function(e){return v(e.target.value)}})})})]})}),Object(j.jsxs)(ie.a.Footer,{children:[Object(j.jsx)(z.a,{variant:"secondary",onClick:function(){return F(!1)},children:"Close"}),Object(j.jsx)(z.a,{variant:"primary",onClick:Fe,children:"Save Changes"})]})]})}),Object(j.jsx)("div",{children:Object(j.jsxs)(ie.a,{show:V,onHide:function(){return X(!1)},children:[Object(j.jsx)(ie.a.Header,{closeButton:!0,children:Object(j.jsx)(ie.a.Title,{children:"Assign Tutor"})}),Object(j.jsx)(ie.a.Body,{children:Object(j.jsx)(ue.a,{label:"Assign Tutor",children:Object(j.jsxs)(M.a.Control,{as:"select",value:Ge.value,onChange:function(e){return function(e){return ce(_[e.target.value])}(e)},children:[Object(j.jsx)("option",{value:"",children:"Select a Tutor to Assign"}),"options=",Ge]})})}),Object(j.jsx)(ie.a.Footer,{children:Object(j.jsx)(z.a,{variant:"primary",onClick:Le,children:"Save Changes"})})]})})]})},Ce=function(e){var t=e.msgAlert,a=e.user,n=Object(r.useState)(""),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(!1),x=Object(o.a)(O,2),m=x[0],p=x[1];Object(r.useEffect)(Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve(a);case 3:t=e.sent,u(t.data.first_name),h(t.data.last_name),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[m]);var v=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,pe(s,b,a);case 4:t({heading:"Profile Update Success",variant:"success"}),p(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({heading:"Profile Update failed",variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return a?Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("h3",{children:"Update profile"}),Object(j.jsxs)(M.a,{onSubmit:v,children:[Object(j.jsxs)(M.a.Group,{controlId:"firstName",children:[Object(j.jsx)(M.a.Label,{children:"First Name"}),Object(j.jsx)(M.a.Control,{name:"firstName",value:s,type:"text",placeholder:"First Name",onChange:function(e){return u(e.target.value)}})]}),Object(j.jsxs)(M.a.Group,{controlId:"lastName",children:[Object(j.jsx)(M.a.Label,{children:"Last Name"}),Object(j.jsx)(M.a.Control,{name:"lastName",value:b,type:"text",placeholder:"Last Name",onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)(z.a,{className:"mt-2",variant:"primary",type:"submit",children:"Update"})]})]})}):Object(j.jsx)(i.a,{to:"/"})},Se=function(e){var t=e.msgAlert,a=e.user,n=Object(r.useState)(""),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(!1),x=Object(o.a)(O,2),m=x[0],p=x[1],v=Object(i.f)().state.value,f=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,je(a,s,b,v);case 4:t({heading:"Module Creation Successful!",message:"Module ".concat(s," Created Successfully!"),variant:"success"}),p(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({heading:"Create Module Failed with error: "+e.t0.message,message:"Failed to create a new Module",variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return a?m?Object(j.jsx)(i.a,{to:"/courses/".concat(v,"/")}):Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("h3",{children:"Create Module"}),Object(j.jsxs)(M.a,{onSubmit:f,children:[Object(j.jsxs)(M.a.Group,{controlId:"moduleName",children:[Object(j.jsx)(M.a.Label,{children:"Module Name"}),Object(j.jsx)(M.a.Control,{required:!0,name:"moduleName",value:s,type:"text",placeholder:"Module Name",onChange:function(e){return u(e.target.value)}})]}),Object(j.jsxs)(M.a.Group,{controlId:"moduleContent",children:[Object(j.jsx)(M.a.Label,{children:"Module Content"}),Object(j.jsx)(M.a.Control,{required:!0,name:"moduleContent",value:b,type:"text",as:"textarea",rows:"10",placeholder:"Module Content",onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)(z.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})}):Object(j.jsx)(i.a,{to:"/"})},Ne=function(e){var t=e.msgAlert,a=e.user,n=(e.userType,Object(r.useState)([])),c=Object(o.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(""),x=Object(o.a)(O,2),m=x[0],p=x[1],v=Object(r.useState)(!1),f=Object(o.a)(v,2),g=f[0],k=f[1],w=Object(r.useState)(!1),S=Object(o.a)(w,2),N=S[0],T=S[1],A=Object(r.useState)(!1),F=Object(o.a)(A,2),I=F[0],E=F[1],P={id:Object(i.h)().id},D=Object(i.f)().state.value;if(!a)return Object(j.jsx)(i.a,{to:"/"});Object(r.useEffect)(Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be(a,P.id);case 3:t=e.sent,u(t.data.module),h(t.data.module.name),p(t.data.module.content),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[I]);var B=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,he(a,P.id,b,m,D.id);case 4:k(!1),E(!0),t({heading:"Module Edit Successful!",message:"Module ".concat(b," Edited Successfully!"),variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({heading:"Edit Module Failed with error: "+e.t0.message,message:"Failed to edit the Module",variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(C.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,Oe(a,P.id);case 4:k(!1),T(!0),t({heading:"Module Deletion Successful!",message:"Module ".concat(b," Deleted Successfully!"),variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({heading:"Delete Module Failed with error: "+e.t0.message,message:"Failed to delete the Module",variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return N?Object(j.jsx)(i.a,{to:"/courses/".concat(D.id,"/")}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)(z.a,{onClick:function(){return T(!0)},children:"Back"}),Object(j.jsx)("br",{}),Object(j.jsxs)(re.a,{border:"primary",className:"col-5 shadow container",children:[Object(j.jsx)(re.a.Header,{children:Object(j.jsx)("h1",{children:s.name})}),Object(j.jsx)(re.a.Body,{children:Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:s.content})}),Object(j.jsxs)(re.a.Footer,{children:[Object(j.jsx)(z.a,{onClick:function(){return k(!0)},children:"Edit"}),Object(j.jsx)(z.a,{variant:"danger",onClick:G,children:"Delete"})]})]})]}),Object(j.jsx)("div",{children:Object(j.jsxs)(ie.a,{show:g,onHide:function(){return k(!1)},children:[Object(j.jsx)(ie.a.Header,{closeButton:!0,children:Object(j.jsx)(ie.a.Title,{children:"Edit Module Information"})}),Object(j.jsx)(ie.a.Body,{children:Object(j.jsxs)(M.a,{children:[Object(j.jsx)(M.a.Group,{controlId:"moduleName",children:Object(j.jsx)(ue.a,{label:"Module Name",children:Object(j.jsx)(M.a.Control,{required:!0,name:"moduleName",value:b,type:"text",placeholder:"Module Name",onChange:function(e){return h(e.target.value)}})})}),Object(j.jsx)(M.a.Group,{controlId:"moduleContent",children:Object(j.jsx)(ue.a,{label:"Module Content",children:Object(j.jsx)(M.a.Control,{required:!0,name:"moduleContent",value:m,type:"text",as:"textarea",rows:"6",placeholder:"Module Content",onChange:function(e){return p(e.target.value)}})})})]})}),Object(j.jsxs)(ie.a.Footer,{children:[Object(j.jsx)(z.a,{variant:"secondary",onClick:function(){return k(!1)},children:"Close"}),Object(j.jsx)(z.a,{variant:"primary",onClick:B,children:"Save Changes"})]})]})})]})},Te=function(e){e.msgAlert;var t=e.user,a=(e.userType,Object(r.useState)([])),n=Object(o.a)(a,2),c=n[0],s=n[1],u=Object(r.useState)([]),l=Object(o.a)(u,2),d=l[0],b=l[1],h=Object(r.useState)([]),O=Object(o.a)(h,2),m=O[0],p=O[1],v=Object(r.useState)(!1),f=Object(o.a)(v,2),g=f[0],k=f[1],w=Object(r.useState)(!1),S=Object(o.a)(w,2),N=S[0],A=S[1],F={id:Object(i.h)().id};if(!t)return Object(j.jsx)(i.a,{to:"/"});Object(r.useEffect)(Object(C.a)(y.a.mark((function e(){var a,r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t,F.id);case 3:return a=e.sent,s(a.data.course),e.prev=5,e.next=8,de(t,F.id);case 8:return r=e.sent,b(r.data.modules),k(!1),e.prev=11,e.next=14,me(t,F.id);case 14:n=e.sent,p(n.data.completed_module.map((function(e){return e.module_complete.id}))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),console.error(e.t0);case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(5),console.error(e.t1);case 26:e.next=31;break;case 28:e.prev=28,e.t2=e.catch(0),console.error(e.t2);case 31:case"end":return e.stop()}}),e,null,[[0,28],[5,23],[11,18]])}))),[]);var I=d.filter((function(e){return m.includes(e.id)?(e.completed="\u2705",e):e}),[g]).map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(le.a.Item,{children:Object(j.jsxs)(x.b,{to:"/courses/modules/".concat(e.id,"/"),state:{course:F.id,completed:e.completed},children:[e.completed," ",e.name]})})},e.id)})),E=Object(j.jsx)("ol",{className:"container",children:I});return N?Object(j.jsx)(i.a,{to:"/courses/enrolled/"}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)(z.a,{onClick:function(){return A(!0)},children:"Back"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-5",children:Object(j.jsxs)(re.a,{border:"primary",className:"shadow",children:[Object(j.jsx)(re.a.Img,{variant:"top",src:T+c.image}),Object(j.jsxs)(re.a.Body,{children:[Object(j.jsx)(re.a.Title,{children:Object(j.jsx)("h3",{children:c.name})}),Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:c.description})]})]})}),Object(j.jsxs)(re.a,{border:"primary col-6 container shadow",children:[Object(j.jsx)(re.a.Header,{children:Object(j.jsx)("h3",{children:"Modules:"})}),Object(j.jsx)(le.a,{variant:"flush",children:g?Object(j.jsx)(ae.a,{animation:"border",variant:"primary"}):E})]})]})})]})})},Ae=function(e){e.msgAlert;var t=e.user,a=(e.userType,Object(r.useState)([])),n=Object(o.a)(a,2),c=n[0],s=n[1],u=Object(r.useState)(!1),l=Object(o.a)(u,2),d=l[0],b=l[1],h=Object(r.useState)(!1),O=Object(o.a)(h,2),x=O[0],m=O[1],p={id:Object(i.h)().id},v=Object(i.f)(),f=v.state.course,g=v.state.completed;if(!t)return Object(j.jsx)(i.a,{to:"/"});Object(r.useEffect)(Object(C.a)(y.a.mark((function e(){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"\u2705"===g&&m(!0),e.next=4,be(t,p.id);case 4:a=e.sent,s(a.data.module),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);var k=function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe(t,p.id);case 3:b(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return d?Object(j.jsx)(i.a,{to:"/courses/".concat(f,"/")}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("br",{}),Object(j.jsx)(z.a,{onClick:function(){return b(!0)},children:"Back"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)(re.a,{border:"primary",className:"col-12 shadow container",children:[Object(j.jsx)(re.a.Header,{children:Object(j.jsx)("h1",{children:c.name})}),Object(j.jsx)(re.a.Body,{children:Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:c.content})}),Object(j.jsx)(re.a.Footer,{children:x?Object(j.jsx)("p",{style:{textAlign:"end",fontWeight:"bold",color:"red"},children:"Already Completed"}):Object(j.jsx)("p",{style:{textAlign:"end",textDecoration:"underline",color:"blue",cursor:"pointer"},onClick:function(){return k()},children:"Mark Completed"})})]})]})},Fe=function(e){e.msgAlert;var t=e.user,a=(e.userType,Object(r.useState)([])),n=Object(o.a)(a,2),c=n[0],s=n[1],u=Object(r.useState)([]),l=Object(o.a)(u,2),d=l[0],b=l[1],h=Object(r.useState)([]),O=Object(o.a)(h,2),m=O[0],p=O[1],v=Object(r.useState)(!1),f=Object(o.a)(v,2),g=f[0],k=f[1],w=Object(r.useState)(!1),S=Object(o.a)(w,2),N=S[0],A=S[1],F=Object(r.useState)(!1),I=Object(o.a)(F,2),E=I[0],P=I[1],D={id:Object(i.h)().id};if(!t)return Object(j.jsx)(i.a,{to:"/"});if(Object(r.useEffect)(Object(C.a)(y.a.mark((function e(){var a,r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t,D.id);case 3:return a=e.sent,s(a.data.course),e.prev=5,e.next=8,de(t,D.id);case 8:return r=e.sent,b(r.data.modules),k(!1),e.prev=11,e.next=14,we(t,D.id);case 14:n=e.sent,p(n.data.enrolled_students),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),console.error(e.t0);case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(5),console.error(e.t1);case 26:e.next=31;break;case 28:e.prev=28,e.t2=e.catch(0),console.error(e.t2);case 31:case"end":return e.stop()}}),e,null,[[0,28],[5,23],[11,18]])}))),[]),N)return Object(j.jsx)(i.a,{to:"/courses/assigned/"});var M=m.map((function(e){return Object(j.jsx)(le.a.Item,{children:e.student.email},e.student.id)}));if(E)return Object(j.jsx)(i.a,{to:"/courses/".concat(D,"/modules/create/"),state:{value:D.id}});var B=d.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(le.a.Item,{children:Object(j.jsx)(x.b,{to:"/courses/modules/".concat(e.id,"/"),state:{value:D},children:e.name})})},e.id)})),G=Object(j.jsx)("ol",{className:"container",children:B});return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)(z.a,{onClick:function(){return A(!0)},children:"Back"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-5",children:Object(j.jsxs)(re.a,{border:"primary",className:"shadow",children:[Object(j.jsx)(re.a.Img,{variant:"top",src:T+c.image}),Object(j.jsxs)(re.a.Body,{children:[Object(j.jsx)(re.a.Title,{children:Object(j.jsx)("h3",{children:c.name})}),Object(j.jsx)(ee.a,{remarkPlugins:[te.a],children:c.description})]}),Object(j.jsxs)(re.a.Footer,{children:[Object(j.jsx)(re.a.Header,{children:Object(j.jsx)("h4",{children:"Enrolled Students:"})}),Object(j.jsx)(le.a,{variant:"flush",children:M})]})]})}),Object(j.jsxs)(re.a,{border:"primary col-6 container shadow",children:[Object(j.jsx)(re.a.Header,{children:Object(j.jsx)("h3",{children:"Modules:"})}),Object(j.jsxs)(le.a,{variant:"flush",children:[g?Object(j.jsx)(ae.a,{animation:"border",variant:"primary"}):G,Object(j.jsx)(le.a.Item,{children:Object(j.jsx)(z.a,{onClick:function(){return P(!0)},children:"Add Module"})})]})]})]})})]})})},Ie=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),l=Object(o.a)(c,2),b=l[0],h=l[1],O=Object(r.useState)(null),x=Object(o.a)(O,2),m=x[0],p=x[1],v=function(e){var t=e.heading,a=e.message,r=e.variant,n=Object(u.a)();h((function(e){return[].concat(Object(s.a)(e),[{heading:t,message:a,variant:r,id:n}])}))};Object(r.useEffect)((function(){a&&(a.isStudent?p("Student"):a.isTutor?p("Tutor"):a.isAuthor&&p("Author"))}),[a]);var f=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{path:"/courses/:id/",element:Object(j.jsx)(Te,{msgAlert:v,user:a,userType:m})}),Object(j.jsx)(i.b,{path:"/courses/enrolled/",element:Object(j.jsx)(oe,{msgAlert:v,user:a,userType:m})}),Object(j.jsx)(i.b,{path:"/courses/modules/:id/",element:Object(j.jsx)(Ae,{msgAlert:v,user:a,userType:m})})]}),w=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{path:"/courses/:id/",element:Object(j.jsx)(Fe,{msgAlert:v,user:a,userType:m})}),Object(j.jsx)(i.b,{path:"/courses/modules/:id/",element:Object(j.jsx)(Ne,{msgAlert:v,user:a,userType:m})}),Object(j.jsx)(i.b,{path:"/courses/assigned/",element:Object(j.jsx)(se,{user:a,userType:m})}),Object(j.jsx)(i.b,{path:"/courses/:id/modules/create/",element:Object(j.jsx)(Se,{msgAlert:v,user:a})})]}),y=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{path:"/courses/:id/",element:Object(j.jsx)(ye,{msgAlert:v,user:a,userType:m})}),Object(j.jsx)(i.b,{path:"/courses/modules/:id/",element:Object(j.jsx)(Ne,{msgAlert:v,user:a,userType:m})}),Object(j.jsx)(i.b,{path:"/courses/create/",element:Object(j.jsx)($,{msgAlert:v,user:a})}),Object(j.jsx)(i.b,{path:"/courses/:id/modules/create/",element:Object(j.jsx)(Se,{msgAlert:v,user:a})})]});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{user:a,userType:m}),b.map((function(e){return Object(j.jsx)(d,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),Object(j.jsx)("main",{className:"container",children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{path:"/sign-up/",element:Object(j.jsx)(B,{msgAlert:v,setUser:n})}),Object(j.jsx)(i.b,{path:"/sign-in/",element:Object(j.jsx)(G,{msgAlert:v,setUser:n})}),Object(j.jsx)(i.b,{path:"/sign-out/",element:Object(j.jsx)(L,{msgAlert:v,user:a,clearUserType:function(){return p(null)},clearUser:function(){return n(null)}})}),Object(j.jsx)(i.b,{path:"/change-password/",element:Object(j.jsx)(U,{msgAlert:v,user:a})}),Object(j.jsx)(i.b,{path:"/profile/",element:Object(j.jsx)(Ce,{msgAlert:v,user:a})}),Object(j.jsx)(i.b,{path:"/",element:Object(j.jsx)(k,{user:a,userType:m})}),Object(j.jsx)(i.b,{path:"/courses/",element:Object(j.jsx)(se,{msgAlert:v,user:a,userType:m})}),"Student"===m?f:"Tutor"===m?w:"Author"===m?y:""]})})]})},Ee=Object(j.jsx)(x.a,{basename:"/Only-Exams-Client",children:Object(j.jsx)(Ie,{})});c.a.render(Ee,document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.e2954548.chunk.js.map